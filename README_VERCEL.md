# Laravel Mercubuana - Vercel Ready 🚀

Laravel application with Filament admin panel, optimized for deployment on Vercel serverless platform.

## 🏃‍♂️ Quick Deploy

### Prerequisites
- PHP 8.2+
- Composer
- Node.js & npm

### Deploy in 3 steps:

1. **Check readiness:**
   ```powershell
   .\check-readiness.ps1
   ```

2. **Deploy:**
   ```powershell
   .\deploy.ps1
   ```

3. **Done!** Your Laravel app is live on Vercel 🎉

## 📁 What's Included

### Vercel Configuration Files
- `vercel.json` - Optimized Vercel configuration for Laravel + Filament
- `api/index.php` - Serverless function entry point
- `.vercelignore` - Deployment optimization
- `.env.production` - Production environment template

### Deployment Scripts
- `deploy.ps1` - PowerShell deployment script (Windows)
- `deploy.bat` - Batch script alternative
- `deploy.sh` - Bash script (Linux/Mac)
- `check-readiness.ps1` - Pre-deployment validation

### Documentation
- `QUICK_START.md` - Quick deployment guide
- `VERCEL_DEPLOYMENT.md` - Detailed documentation

## 🛠️ Features

- **Serverless Optimized:** Configured for Vercel's serverless environment
- **Filament Ready:** Admin panel assets properly routed
- **SQLite Database:** Pre-configured for serverless deployment
- **Auto Storage:** Automatic `/tmp` storage setup for read-only filesystem
- **Asset Optimization:** CSS/JS/Images properly served
- **Environment Management:** Production-ready environment variables

## 🔧 Environment Variables

Required on Vercel:
```
APP_KEY=[generated by deployment script]
APP_ENV=production
APP_DEBUG=false
APP_URL=https://yourapp.vercel.app
```

Optional (with defaults):
```
DB_CONNECTION=sqlite
DB_DATABASE=/tmp/database.sqlite
CACHE_DRIVER=array
SESSION_DRIVER=cookie
LOG_CHANNEL=stderr
QUEUE_CONNECTION=sync
```

## 🗄️ Database

Default: SQLite (perfect for small apps)

For production with external database:
1. Set `DB_CONNECTION` to `mysql` or `pgsql`
2. Add database credentials to Vercel environment variables

Recommended external databases:
- **PlanetScale** (MySQL)
- **Supabase** (PostgreSQL)
- **Railway** (PostgreSQL/MySQL)

## 📦 File Storage

Default: Local (in `/tmp` - cleared on each request)

For persistent storage:
1. Set `FILESYSTEM_DISK=s3`
2. Add AWS credentials to environment variables

## 🚀 Deployment Process

The deployment automatically:
1. Installs PHP dependencies with Composer
2. Copies production environment configuration
3. Publishes Filament assets
4. Optimizes Laravel for production
5. Configures routing for serverless environment

## 🛠️ Local Development

```bash
# Install dependencies
composer install
npm install

# Setup environment
cp .env.example .env
php artisan key:generate

# Run migrations
php artisan migrate

# Start development server
php artisan serve
```

## 📚 Documentation

- **Quick Start:** See `QUICK_START.md`
- **Detailed Guide:** See `VERCEL_DEPLOYMENT.md`
- **Validation:** Run `.\check-readiness.ps1`

## 🎯 Filament Admin

Access admin panel at: `https://yourapp.vercel.app/admin`

Default admin routes are properly configured for Vercel deployment.

## ⚡ Performance Notes

- **Cold Start:** ~2-3 seconds on first request
- **Warm Requests:** ~200-500ms
- **Function Timeout:** 10 seconds (Vercel free tier)
- **Memory Limit:** 1024MB (Vercel default)

## 🆘 Troubleshooting

### Common Issues:

**Assets not loading:**
```bash
php artisan vendor:publish --tag=filament-assets --force
```

**Database errors:**
```bash
vercel env pull .env.local
php artisan migrate --force
```

**Permission errors:**
Vercel automatically handles `/tmp` permissions.

### Getting Help

1. Check `VERCEL_DEPLOYMENT.md` for detailed troubleshooting
2. Run `.\check-readiness.ps1` to validate setup
3. Check Vercel deployment logs: `vercel logs`

---

## 🎉 Ready to Deploy!

Your Laravel application is now configured for Vercel deployment. Run `.\deploy.ps1` to get started!

**Live Demo:** [Deploy to Vercel](https://vercel.com/new/clone?repository-url=https://github.com/yourusername/yourrepo)
